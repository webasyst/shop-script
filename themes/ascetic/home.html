<!-- get products from predefined product lists 'promo' and 'bestsellers' -->
{$promos = $wa->shop->productSet('promo')}
{$bestsellers = $wa->shop->productSet('bestsellers')}

{if (empty($promos) && empty($bestsellers))}

    <div class="welcome">
        <h1>[`Welcome to your new online store!`]</h1>
        <p>{sprintf('[`Start by creating a product in your <a href="%s">store backend</a>.`]', $wa_backend_url|cat:'shop/?action=products#/welcome/')}</p>
    </div>

{else}
    
    <!-- top promo products -->
    {if $promos && count($promos)}
        <div class="align-center">
            {include file="list-thumbs.html" products=$promos}
        </div>
    {else}
        <p class="hint align-center"><em>{sprintf('[`Product set with the ID <strong>%s</strong> either does not exist or does not contain any product. Add some products into a product set with the specified ID to make these products featured here.`]','promo')}</em></p>
    {/if}
    
    <!-- plugin hook: 'frontend_homepage' -->
    {* @event frontend_homepage.%plugin_id% *}
    {foreach $frontend_homepage as $_}{$_}{/foreach}
    
    <div class="clear-both"></div>
    
    <div class="sidebar left300px">
        <!-- NAVIGATION -->
        {include file="sidebar.html"}
    </div>
    
    <div class="content left300px">
    
        <!-- GENERAL WELCOME TEXT -->
        <div itemscope itemtype="http://schema.org/Store">
            <h1 class="align-center"><span itemprop="name">{sprintf('[`%s online store`]', $wa->shop->settings('name'))}</span></h1>
            <meta itemprop="description" content="{$wa->meta('description')|escape}">
    
            {if $wa->shop->settings('phone')}
                <p class="align-center large">[`Contact us`]: <strong itemprop="telephone">{$wa->shop->settings('phone')}</strong></p>
            {/if}
            <div itemprop="address" itemscope itemtype="http://schema.org/PostalAddress">
                <meta itemprop="streetAddress" content="">
                <meta itemprop="addressLocality" content="">
                <meta itemprop="addressRegion" content="">
                <meta itemprop="postalCode" content="">
                <meta itemprop="addressCountry" content="{$wa->shop->settings('country')|upper}">
            </div>
      
            <p class="align-center gray">[`Edit this information in the <strong>home.html</strong> template file using built-in design editor in the store backend.`]</p>
            
        </div>
    
        {$bestsellers = $wa->shop->productSet('bestsellers')}
        {if $bestsellers}
            {include file="list-table.html" products=$bestsellers}
        {else}
            <p class="hint align-center"><em>{sprintf('[`Product set with the ID <strong>%s</strong> either does not exist or does not contain any product. Add some products into a product set with the specified ID to make these products featured here.`]','bestsellers')}</em></p>
        {/if}
        
    </div>

{/if}